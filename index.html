<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>yt-dlp Command Generator</title>
</head>
<body>
<h2>yt-dlp Command Generator (Safe for Bash)</h2>

<label>Video URL:</label><br>
<input id="url" placeholder="Paste video URL here" style="width:100%"><br><br>

<label>Referer Header:</label><br>
<input id="referer" placeholder="https://example.com/" style="width:100%"><br><br>

<label>User-Agent Header:</label><br>
<input id="useragent" placeholder="Mozilla/5.0 ..." style="width:100%"><br><br>

<label>Output Filename:</label><br>
<input id="filename" placeholder="video10.%(ext)s" style="width:100%"><br><br>

<label>Format:</label><br>
<input id="format" placeholder="bv*+ba/b" style="width:100%" value="bv*+ba/b"><br><br>

<button onclick="generate()">Generate Command</button>

<h3>Copy & Paste this into your Linux shell:</h3>
<pre id="output">yt-dlp â€¦</pre>

<script>
function generate() {
  const url = document.getElementById("url").value.trim();
  const referer = document.getElementById("referer").value.trim();
  const ua = document.getElementById("useragent").value.trim();
  const filename = document.getElementById("filename").value.trim() || "video.%(ext)s";
  const format = document.getElementById("format").value.trim() || "bv*+ba/b";

  if (!url) {
    document.getElementById("output").textContent = "Enter a video URL!";
    return;
  }

  // Single-line, safe for Bash with URL in single quotes
  let cmd = 'yt-dlp';
  if (referer) cmd += ` --add-header "Referer: ${referer}"`;
  if (ua) cmd += ` --add-header "User-Agent: ${ua}"`;
  cmd += ` -f "${format}" --merge-output-format mp4 -o "${filename}" '${url}'`;

  document.getElementById("output").textContent = cmd;
}
</script>
</body>
</html>
